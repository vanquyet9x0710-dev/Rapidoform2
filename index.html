<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>WAREHOUSE RAPIDO ASIA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
body { background: #f5f7fa; font-family: inherit; padding: 10px; }
.box { max-width: 900px; margin: auto; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
#status-message { margin-top: 10px; font-weight: bold; transition: color 0.3s ease; }
#status-message.success { color: green; }
#status-message.error { color: red; }
@media screen and (max-width: 768px) {
  .columns { flex-direction: column; }
  .column { width: 100% !important; margin-bottom: 12px; }
  .input, .select select, .textarea { font-size: 16px; padding: 12px; }
  label.label { font-size: 14px; margin-bottom: 6px; }
  button.button { font-size: 18px; padding: 12px; }
}
</style>
</head>
<body>

<section class="hero is-link">
  <div class="hero-body has-text-centered">
    <h1 class="title">WAREHOUSE RAPIDO ASIA</h1>
    <p class="subtitle">REQUEST INBOUND - OUTBOUND</p>
  </div>
</section>

<div class="box mt-4">
<form id="truck-form">

<div class="columns is-multiline">
  <div class="column is-full-mobile">
    <label class="label">Biển số xe</label>
    <input class="input" type="text" name="bien_so_xe" placeholder="29H-04321" required>
  </div>
</div>

<div class="columns is-multiline">
  <div class="column is-full-mobile">
    <label class="label">Đơn vị</label>
    <div class="select is-fullwidth">
      <select name="don_vi" required>
        <option value="" disabled selected>Chọn đơn vị</option>
        <option>Q2C</option>
        <option>Sơn Hùng</option>
        <option>VT89</option>
        <option>Tiến Lợi</option>
        <option>CBT</option>
        <option>KH Tự lấy</option>
        <option>Đơn vị khác</option>
      </select>
    </div>
  </div>

<div class="columns is-multiline">
  <div class="column is-full-mobile">
    <label class="label">Loại xe</label>
    <div class="select is-fullwidth">
      <select name="loai_xe" required>
        <option value="" disabled selected>Chọn loại xe</option>
        <option>Xe tải</option>
        <option>Container</option>
      </select>
    </div>
  </div>
  <div class="column is-full-mobile">
    <label class="label">Tải trọng</label>
    <div class="select is-fullwidth">
      <select name="tai_trong" required>
        <option value="" disabled selected>Chọn tải trọng</option>
        <option>1.4T</option>
        <option>2T</option>
        <option>2.5T</option>
        <option>3.5T</option>
        <option>5T</option>
        <option>7T</option>
        <option>8T</option>
        <option>9T</option>
        <option>Cont 20</option>
        <option>Cont 40</option>
      </select>
    </div>
  </div>
  <div class="column is-full-mobile">
    <label class="label">Loại yêu cầu</label>
    <div class="select is-fullwidth">
      <select name="loai_yeu_cau" required>
        <option value="" disabled selected>Chọn loại yêu cầu</option>
        <option>Xuất kho</option>
        <option>Nhập kho</option>
      </select>
    </div>
  </div>
  <div class="column is-full-mobile">
    <label class="label">Loại hàng</label>
    <div class="select is-fullwidth">
      <select name="loai_hang" required>
        <option value="" disabled selected>Chọn loại hàng</option>
        <option>Thành phẩm</option>
        <option>Nguyên vật liệu</option>
      </select>
    </div>
  </div>
</div>

<hr>

<div class="columns is-multiline">
  <div class="column is-full-mobile">
    <label class="label">Thời gian xe vào cổng</label>
    <input type="datetime-local" class="input" name="vao_cong">
  </div>
  <div class="column is-full-mobile">
    <label class="label">Bắt đầu chuẩn bị hàng</label>
    <input type="datetime-local" class="input" name="bat_dau_chuan_bi">
  </div>
  <div class="column is-full-mobile">
    <label class="label">Kết thúc chuẩn bị hàng</label>
    <input type="datetime-local" class="input" name="ket_thuc_chuan_bi">
  </div>
  <div class="column is-full-mobile">
    <label class="label">Bắt đầu quét hàng</label>
    <input type="datetime-local" class="input" name="bat_dau_quet">
  </div>
  <div class="column is-full-mobile">
    <label class="label">Kết thúc quét hàng</label>
    <input type="datetime-local" class="input" name="ket_thuc_quet">
  </div>
  <div class="column is-full-mobile">
    <label class="label">Bắt đầu bốc hàng</label>
    <input type="datetime-local" class="input" name="bat_dau_boc">
  </div>
  <div class="column is-full-mobile">
    <label class="label">Kết thúc bốc hàng</label>
    <input type="datetime-local" class="input" name="ket_thuc_boc">
  </div>
  <div class="column is-full-mobile">
    <label class="label">Thời gian xe ra cổng</label>
    <input type="datetime-local" class="input" name="ra_cong">
  </div>
</div>

<hr>

<div class="columns is-multiline">
  <div class="column is-full-mobile">
    <label class="label">Nhân lực</label>
    <div class="select is-fullwidth">
      <select name="nhan_luc" required>
        <option value="" disabled selected>Chọn nhân lực</option>
        <option>Bốc xếp ngoài</option>
        <option>Tự bốc</option>
      </select>
    </div>
  </div>
  <div class="column is-full-mobile">
    <label class="label">Ghi chú</label>
    <textarea class="textarea" name="ghi_chu"></textarea>
  </div>
</div>

<button class="button is-link is-fullwidth" type="submit">GỬI THÔNG TIN</button>
<div id="status-message"></div>
</form>
</div>

<script>
$('#truck-form').on('submit', function(e){
  e.preventDefault();
  const $form = $(this);
  const $status = $('#status-message');
  const $btn = $form.find('button[type="submit"]');

  $status.removeClass('success error').text('Đang gửi dữ liệu...');
  $btn.prop('disabled', true);

  // Validation thời gian
  const startCB = $('input[name="bat_dau_chuan_bi"]').val();
  const endCB = $('input[name="ket_thuc_chuan_bi"]').val();
  const startScan = $('input[name="bat_dau_quet"]').val();
  const endScan = $('input[name="ket_thuc_quet"]').val();
  const startLoad = $('input[name="bat_dau_boc"]').val();
  const endLoad = $('input[name="ket_thuc_boc"]').val();

  if ((startCB && endCB && startCB > endCB) ||
      (startScan && endScan && startScan > endScan) ||
      (startLoad && endLoad && startLoad > endLoad)) {
    $status.addClass('error').text('Lỗi: Thời gian bắt đầu không được lớn hơn kết thúc.');
    $btn.prop('disabled', false);
    return;
  }

  $.ajax({
    url: 'https://script.google.com/macros/s/AKfycbwqTpytMAhmqo-yZ1du1Hkv5pkcNYtc7z_U1tRkiRB5-r4M6mqGJRwl08DvonyxsYt0EQ/exec', // Thay bằng URL Web App
    method: 'POST',
    data: $form.serialize(),
    success: () => {
      $status.addClass('success').text('Gửi dữ liệu thành công!');
      $form[0].reset();
      $('input[name="bien_so_xe"]').focus();
    },
    error: () => $status.addClass('error').text('Có lỗi xảy ra, vui lòng thử lại.'),
    complete: () => $btn.prop('disabled', false)
  });
});
</script>
</body>
</html>




